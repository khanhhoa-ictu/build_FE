{"version":3,"sources":["helper/index.ts","api/authentication.ts","assets/logo/logoLogin.png","pages/SignUp/style.module.scss","pages/SignUp/index.tsx"],"names":["handleErrorMessage","error","message","destroy","getErrorMessage","configs","APP_ENV","console","log","response","data","msg","replaceURLs","replace","url","hyperlink","match","convertImages","htmlText","handleError","err","checkScript","test","imgMaxSize","login","payload","sendPost","signUp","module","exports","SignUp","history","useHistory","Cookies","get","to","handleSubmit","params","_","pick","SCRIPT_REGEX","username","password","confirm","success","push","className","styles","signUpContainer","wrapperSignUp","bordered","signUpForm","justify","formTitle","src","logo","alt","onFinish","formContainer","Item","name","rules","required","whitespace","labelAlign","labelCol","span","wrapperCol","customInputSignUp","placeholder","Password","getFieldValue","validator","value","Promise","reject","Error","resolve","dependencies","block","type","htmlType","btnSignUp"],"mappings":"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","file":"static/js/23.9d290182.chunk.js","sourcesContent":["import configs from 'config';\r\nimport { message } from 'antd';\r\n\r\nexport const handleErrorMessage = (error: any) => {\r\n  message.destroy();\r\n  message.error(getErrorMessage(error));\r\n  if (configs.APP_ENV !== 'prod') {\r\n    // tslint:disable-next-line: no-console\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const getErrorMessage = (error: any) => {\r\n  return error?.response?.data?.msg || 'Something went wrong!';\r\n};\r\n\r\nexport const replaceURLs = (message: string) => {\r\n  if (!message) return;\r\n\r\n  var urlRegex = /(((https?:\\/\\/)|(www\\.))[^\\s]+)/g;\r\n  return message.replace(urlRegex, function (url) {\r\n    var hyperlink = url;\r\n    if (!hyperlink.match('^https?://')) {\r\n      hyperlink = 'http://' + hyperlink;\r\n    }\r\n    return '<a href=\"' + hyperlink + '\" target=\"_blank\" rel=\"noopener noreferrer\">' + url + '</a>';\r\n  });\r\n};\r\n\r\nexport const convertImages = (htmlText: string) =>\r\n  htmlText.replace(/<div style=\"text-align:none;\"><img/g, '<div style=\"text-align:center;\"><img');\r\n\r\nexport const handleError = (err: string) => {\r\n  message.destroy();\r\n  message.error(err);\r\n};\r\n\r\nexport const checkScript = (htmlText: string) => {\r\n  const SCRIPT_REGEX = /<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi;\r\n  const testScript = SCRIPT_REGEX.test(htmlText);\r\n\r\n  return testScript;\r\n};\r\nexport const imgMaxSize = 5000000;\r\n","import { ILogin, ISignUp } from 'types/userType';\r\nimport { sendPost, sendPut } from './axios';\r\n\r\n// eslint-disable-next-line import/prefer-default-export\r\nexport const login = (payload: ILogin) => sendPost('/login', payload);\r\nexport const signUp = (payload: ISignUp) => sendPost('/register', payload);\r\nexport const changePassWord = (payload: any) =>\r\n  sendPut('https://training-api.test.amela.vn/v1/app/auth/change-password', payload);\r\n","module.exports = __webpack_public_path__ + \"static/media/logoLogin.3a46b958.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"signUpContainer\":\"style_signUpContainer__2Tu-b\",\"signUpForm\":\"style_signUpForm__1x6iq\",\"formContainer\":\"style_formContainer__37yKp\",\"formTitle\":\"style_formTitle__3IhIk\",\"customInputSignUp\":\"style_customInputSignUp__2YEFb\",\"btnSignUp\":\"style_btnSignUp__30Zhp\",\"wrapperImage\":\"style_wrapperImage__zajUz\",\"forgotPassword\":\"style_forgotPassword__1BpZG\"};","import { Button, Card, Form, Input, message, Row } from 'antd';\r\nimport { signUp } from 'api/authentication';\r\nimport logo from 'assets/logo/logoLogin.png';\r\nimport { handleErrorMessage } from 'helper';\r\nimport Cookies from 'js-cookie';\r\nimport _ from 'lodash';\r\nimport React from 'react';\r\nimport { NavLink, Redirect, useHistory } from 'react-router-dom';\r\nimport { ISignUp } from 'types/userType';\r\nimport styles from './style.module.scss';\r\n\r\nexport default function SignUp() {\r\n  const history = useHistory();\r\n\r\n  const isAuthenticated = !!Cookies.get('token');\r\n  if (isAuthenticated) return <Redirect to=\"/\" />;\r\n\r\n  const handleSubmit = async (payload: ISignUp) => {\r\n    const params = _.pick(payload, ['username', 'password', 'confirm']);\r\n    const SCRIPT_REGEX = /<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi;\r\n    const testScript =\r\n      SCRIPT_REGEX.test(params.username) || SCRIPT_REGEX.test(params.password) || SCRIPT_REGEX.test(params.confirm);\r\n    if (testScript) {\r\n      message.destroy();\r\n      message.error('Đăng ký thất bại');\r\n      return;\r\n    }\r\n    try {\r\n      await signUp(params);\r\n      message.destroy();\r\n      message.success('Đăng ký thành công');\r\n      history.push('/login');\r\n    } catch (error) {\r\n      handleErrorMessage(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={styles.signUpContainer}>\r\n      <div className={styles.wrapperSignUp}>\r\n        <Card bordered className={styles.signUpForm}>\r\n          <Row justify=\"center\" className={styles.formTitle}>\r\n            <img src={logo} alt=\"\" />\r\n            <h3>we are laugh</h3>\r\n          </Row>\r\n          <Form onFinish={handleSubmit} className={styles.formContainer}>\r\n            <Form.Item\r\n              name=\"username\"\r\n              rules={[\r\n                {\r\n                  required: true,\r\n                  message: 'Vui lòng nhập tài khoản',\r\n                  whitespace: true,\r\n                },\r\n              ]}\r\n              labelAlign=\"left\"\r\n              labelCol={{ span: 24 }}\r\n              wrapperCol={{ span: 24 }}\r\n            >\r\n              <Input className={styles.customInputSignUp} placeholder={'Tên tài khoản'} />\r\n            </Form.Item>\r\n            <Form.Item\r\n              name=\"password\"\r\n              rules={[{ required: true, message: 'Vui lòng nhập mật khẩu' }]}\r\n              labelAlign=\"left\"\r\n              labelCol={{ span: 24 }}\r\n              wrapperCol={{ span: 24 }}\r\n            >\r\n              <Input.Password className={styles.customInputSignUp} placeholder={'Mật khẩu'} />\r\n            </Form.Item>\r\n            <Form.Item\r\n              name=\"confirm\"\r\n              rules={[\r\n                { required: true, message: 'password không được để trống' },\r\n                ({ getFieldValue }) => ({\r\n                  validator(_, value) {\r\n                    if (!value || getFieldValue('password') === value) {\r\n                      return Promise.resolve();\r\n                    }\r\n\r\n                    return Promise.reject(new Error('mật khẩu không trùng khớp'));\r\n                  },\r\n                }),\r\n              ]}\r\n              dependencies={['password']}\r\n              labelAlign=\"left\"\r\n              labelCol={{ span: 24 }}\r\n              wrapperCol={{ span: 24 }}\r\n            >\r\n              <Input.Password className={styles.customInputSignUp} placeholder={'Xác nhận mật khẩu'} />\r\n            </Form.Item>\r\n            <Form.Item labelCol={{ span: 24 }}>\r\n              <Button block type=\"primary\" htmlType=\"submit\" className={styles.btnSignUp}>\r\n                Đăng ký\r\n              </Button>\r\n            </Form.Item>\r\n            <Form.Item labelCol={{ span: 24 }}>\r\n              <p>\r\n                <NavLink to=\"/login\">Đăng nhập</NavLink>\r\n              </p>\r\n            </Form.Item>\r\n          </Form>\r\n        </Card>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"sourceRoot":""}