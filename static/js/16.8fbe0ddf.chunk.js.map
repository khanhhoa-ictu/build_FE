{"version":3,"sources":["helper/index.ts","components/loading/index.tsx","components/loading/style.module.scss","api/postDetail.ts","pages/PostDetail/components/style.module.scss","pages/PostDetail/style.module.scss","pages/PostDetail/components/Reply.tsx","pages/PostDetail/components/Comment.tsx","pages/PostDetail/index.tsx"],"names":["handleErrorMessage","error","message","destroy","getErrorMessage","configs","APP_ENV","console","log","response","data","msg","replaceURLs","replace","url","hyperlink","match","convertImages","htmlText","handleError","err","checkScript","test","imgMaxSize","Loading","className","styles","loadingContainer","xmlns","xmlnsXlink","width","height","viewBox","preserveAspectRatio","transform","attributeName","type","values","keyTimes","dur","repeatCount","calcMode","keySplines","cx","cy","r","stroke","stroke-width","fill","stroke-dasharray","d","begin","module","exports","getPostDetail","id","sendGet","getComment","addComment","params","sendPost","addReply","deleteComment","sendDelete","getPostDetailAdmin","deleteCommentReply","Reply","props","reply","history","useHistory","profile","useProfile","useState","isOpenModal","setIsOpenModal","queryClient","useQueryClient","handleDeleteComment","invalidateQueries","style","replyContainer","replyWrapper","replyInfo","replyAvatar","src","avatar","noAvatar","alt","replyProfile","user","onClick","push","username","format","reg_date","replyContent","content","CustomModal","isOpen","handleOk","handleCancel","children","title","Comment","item","setReply","isReply","setIsReply","handleSubmitReply","trim","replyParams","comment_id","user_id","commentItem","comment","contentCommentItem","information","userName","timeAgo","contentText","dangerouslySetInnerHTML","__html","value","onChange","e","target","textArea","placeholder","maxLength","submitComment","isEmpty","repComment","map","key","PostDetail","useParams","useQuery","Number","postDetail","fetchPostDetail","isFetching","fetchComment","refetch","commentUser","setContentUser","handleSubmitComment","newComment","post_id","container","containerDetail","detail","dateTime","moment","detailContent","detailContents","production","commentContainer","listComment"],"mappings":"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","file":"static/js/16.8fbe0ddf.chunk.js","sourcesContent":["import configs from 'config';\r\nimport { message } from 'antd';\r\n\r\nexport const handleErrorMessage = (error: any) => {\r\n  message.destroy();\r\n  message.error(getErrorMessage(error));\r\n  if (configs.APP_ENV !== 'prod') {\r\n    // tslint:disable-next-line: no-console\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const getErrorMessage = (error: any) => {\r\n  return error?.response?.data?.msg || 'Something went wrong!';\r\n};\r\n\r\nexport const replaceURLs = (message: string) => {\r\n  if (!message) return;\r\n\r\n  var urlRegex = /(((https?:\\/\\/)|(www\\.))[^\\s]+)/g;\r\n  return message.replace(urlRegex, function (url) {\r\n    var hyperlink = url;\r\n    if (!hyperlink.match('^https?://')) {\r\n      hyperlink = 'http://' + hyperlink;\r\n    }\r\n    return '<a href=\"' + hyperlink + '\" target=\"_blank\" rel=\"noopener noreferrer\">' + url + '</a>';\r\n  });\r\n};\r\n\r\nexport const convertImages = (htmlText: string) =>\r\n  htmlText.replace(/<div style=\"text-align:none;\"><img/g, '<div style=\"text-align:center;\"><img');\r\n\r\nexport const handleError = (err: string) => {\r\n  message.destroy();\r\n  message.error(err);\r\n};\r\n\r\nexport const checkScript = (htmlText: string) => {\r\n  const SCRIPT_REGEX = /<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi;\r\n  const testScript = SCRIPT_REGEX.test(htmlText);\r\n\r\n  return testScript;\r\n};\r\nexport const imgMaxSize = 5000000;\r\n","import React from 'react';\r\nimport styles from './style.module.scss';\r\n\r\nfunction Loading() {\r\n  return (\r\n    <div className={styles.loadingContainer}>\r\n      <svg\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        xmlnsXlink=\"http://www.w3.org/1999/xlink\"\r\n        width=\"200px\"\r\n        height=\"200px\"\r\n        viewBox=\"0 0 100 100\"\r\n        preserveAspectRatio=\"xMidYMid\"\r\n      >\r\n        <g transform=\"translate(50 50)\">\r\n          <g transform=\"scale(1 -1)\">\r\n            <g transform=\"translate(-50 -50)\">\r\n              <g>\r\n                <animateTransform\r\n                  attributeName=\"transform\"\r\n                  type=\"rotate\"\r\n                  values=\"-2 50 50;359 50 50\"\r\n                  keyTimes=\"0;1\"\r\n                  dur=\"1s\"\r\n                  repeatCount=\"indefinite\"\r\n                  calcMode=\"spline\"\r\n                  keySplines=\"0.5 0 0.5 1\"\r\n                ></animateTransform>\r\n                <circle\r\n                  cx=\"50\"\r\n                  cy=\"50\"\r\n                  r=\"39.891\"\r\n                  stroke=\"#f2f2f2\"\r\n                  stroke-width=\"14.4\"\r\n                  fill=\"none\"\r\n                  stroke-dasharray=\"0 300\"\r\n                >\r\n                  <animate\r\n                    attributeName=\"stroke-dasharray\"\r\n                    values=\"10 300;60.15421082128821 300;4 300\"\r\n                    keyTimes=\"0;0.5;1\"\r\n                    dur=\"1s\"\r\n                    repeatCount=\"indefinite\"\r\n                    calcMode=\"linear\"\r\n                    keySplines=\"0 1 1 0;0 1 1 0\"\r\n                  ></animate>\r\n                </circle>\r\n                <circle\r\n                  cx=\"50\"\r\n                  cy=\"50\"\r\n                  r=\"39.891\"\r\n                  stroke=\"#f2f2f2\"\r\n                  stroke-width=\"7.2\"\r\n                  fill=\"none\"\r\n                  stroke-dasharray=\"0 300\"\r\n                >\r\n                  <animate\r\n                    attributeName=\"stroke-dasharray\"\r\n                    values=\"10 300;60.15421082128821 300;4 300\"\r\n                    keyTimes=\"0;0.5;1\"\r\n                    dur=\"1s\"\r\n                    repeatCount=\"indefinite\"\r\n                    calcMode=\"linear\"\r\n                    keySplines=\"0 1 1 0;0 1 1 0\"\r\n                  ></animate>\r\n                </circle>\r\n                <circle\r\n                  cx=\"50\"\r\n                  cy=\"50\"\r\n                  r=\"32.771\"\r\n                  stroke=\"#000000\"\r\n                  stroke-width=\"1\"\r\n                  fill=\"none\"\r\n                  stroke-dasharray=\"0 300\"\r\n                >\r\n                  <animate\r\n                    attributeName=\"stroke-dasharray\"\r\n                    values=\"10 300;49.41750376837973 300;4 300\"\r\n                    keyTimes=\"0;0.5;1\"\r\n                    dur=\"1s\"\r\n                    repeatCount=\"indefinite\"\r\n                    calcMode=\"linear\"\r\n                    keySplines=\"0 1 1 0;0 1 1 0\"\r\n                  ></animate>\r\n                </circle>\r\n                <circle\r\n                  cx=\"50\"\r\n                  cy=\"50\"\r\n                  r=\"47.171\"\r\n                  stroke=\"#000000\"\r\n                  stroke-width=\"1\"\r\n                  fill=\"none\"\r\n                  stroke-dasharray=\"0 300\"\r\n                >\r\n                  <animate\r\n                    attributeName=\"stroke-dasharray\"\r\n                    values=\"10 300;72.03697087422624 300;4 300\"\r\n                    keyTimes=\"0;0.5;1\"\r\n                    dur=\"1s\"\r\n                    repeatCount=\"indefinite\"\r\n                    calcMode=\"linear\"\r\n                    keySplines=\"0 1 1 0;0 1 1 0\"\r\n                  ></animate>\r\n                </circle>\r\n              </g>\r\n            </g>{' '}\r\n          </g>\r\n        </g>\r\n        <g>\r\n          <animateTransform\r\n            attributeName=\"transform\"\r\n            type=\"rotate\"\r\n            values=\"360 50 50;0 50 50\"\r\n            keyTimes=\"0;1\"\r\n            dur=\"1s\"\r\n            repeatCount=\"indefinite\"\r\n            calcMode=\"spline\"\r\n            keySplines=\"0.5 0 0.5 1\"\r\n          ></animateTransform>\r\n          <path\r\n            fill=\"#f2f2f2\"\r\n            stroke=\"#000000\"\r\n            d=\"M82.8,50c0,0.9,0.7,2.6,1.8,3.7c0.3,0.3,0.8,0.6,1,1c0.2,0.5,0.2,1-0.1,1.5c-0.3,0.5-0.8,0.9-1.1,1.3 c-0.5,0.5-0.8,1.1-0.9,1.7c-0.2,0.6-0.2,1.2,0.2,1.8c0.6,1,2,1.7,2,2.8c-0.1,0.9-1,1.5-1.4,2.2c-0.3,0.6-0.4,1.2-0.2,1.9 c0.2,0.7,0.5,1.3,1,1.8c1,1,2.4,1.4,3.9,1.5c-1.1-1-1.2-2.7-0.5-4c0.7-1.2,2.2-1.9,2.5-3.3c0.2-1.2-0.4-2.5,0.1-3.6 c0.7-1.5,3.3-1.3,4.1-2.9c0.3-0.9,0-1.9,0.3-2.8c0.2-0.7,0.6-1.1,1-1.5c0.4-0.4,0.8-0.9,0.9-1.6c0.1-0.5,0.1-0.9,0.1-1.6\"\r\n          ></path>\r\n        </g>\r\n        <g>\r\n          <animateTransform\r\n            attributeName=\"transform\"\r\n            type=\"rotate\"\r\n            values=\"360 50 50;0 50 50\"\r\n            keyTimes=\"0;1\"\r\n            dur=\"1s\"\r\n            repeatCount=\"indefinite\"\r\n            calcMode=\"spline\"\r\n            keySplines=\"0.5 0 0.5 1\"\r\n            begin=\"-0.1s\"\r\n          ></animateTransform>\r\n          <path\r\n            fill=\"#f2f2f2\"\r\n            stroke=\"#000000\"\r\n            d=\"M82.8,50c-0.1-3.1-0.4-6.2-1.3-9.2c-0.1-0.4-0.2-0.8-0.2-1.2c-0.1-0.4-0.1-0.8,0-1.2c0.1-0.8,0.3-1.6,0.7-2.4 c0.8-1.5,2-3,3.8-3.9l0,0c1.8-0.9,3.8-1,5.6-0.2c0.9,0.4,1.7,1,2.4,1.8c0.3,0.4,0.7,0.8,1,1.3c0.2,0.5,0.4,1,0.6,1.6 c1.4,4.3,1.9,8.8,1.9,13.3\"\r\n          ></path>\r\n          <path\r\n            fill=\"#ff7bac\"\r\n            d=\"M93.6,35.5c0.1,0.4-0.3,0.8-1,1c-0.6,0.2-1.2,0.1-1.3-0.3c-0.1-0.3,0.3-0.8,0.9-1S93.5,35.1,93.6,35.5z\"\r\n          ></path>\r\n          <path\r\n            fill=\"#ff7bac\"\r\n            d=\"M82.3,39.3c0.1,0.3,0.6,0.3,1.3,0.1c0.6-0.2,1.1-0.6,1-0.9c-0.1-0.3-0.7-0.3-1.3-0.1 C82.6,38.6,82.2,39,82.3,39.3z\"\r\n          ></path>\r\n          <path\r\n            fill=\"#000000\"\r\n            d=\"M88.9,37.5c0.1,0.3-0.2,0.7-0.7,0.8c-0.5,0.1-0.9,0-1-0.3c-0.1-0.3,0.2-0.7,0.7-0.8C88.4,37,88.9,37.2,88.9,37.5z\"\r\n          ></path>\r\n          <path\r\n            fill=\"none\"\r\n            stroke=\"#000000\"\r\n            d=\"M86.2,39.6c0.2,0.6,0.8,0.9,1.4,0.7c0.6-0.2,0.9-0.9,0.6-2.1c0.3,1.2,1,1.7,1.6,1.5c0.6-0.2,1-0.8,0.8-1.4\"\r\n          ></path>\r\n          <path\r\n            fill=\"#f2f2f2\"\r\n            stroke=\"#000000\"\r\n            d=\"M82.5,45.9c0,0.5,0.1,0.9,0.5,1.3c0.4,0.4,1,0.6,1.6,0.3c0.3-0.1,0.5-0.3,0.7-0.4c0.5-0.2,1.2,0.1,1.5,0.6 c0.3,0.5,0.3,1,0.3,1.6c0.6-0.6,1-1.4,1.3-2.2c0.2-0.7,0.4-1.5,0.2-2.2c-0.2-0.7-0.8-1.3-1.5-1.5c-0.9-0.2-1.8,0.2-2.5,0.7\"\r\n          ></path>\r\n          <path\r\n            fill=\"#f2f2f2\"\r\n            stroke=\"#000000\"\r\n            d=\"M96.8,44.1c0.1,0.7,0.1,1.4-0.2,2c-0.3,0.6-0.9,1-1.5,0.7c-0.3-0.1-0.5-0.4-0.8-0.4c-0.6-0.2-1.2,0.3-1.4,0.9 c-0.2,0.6-0.1,1.2-0.1,1.9c-0.6-0.7-1.2-1.5-1.6-2.3c-0.4-0.7-0.6-1.5-0.6-2.2c0-0.8,0.3-1.6,0.9-2c0.7-0.5,1.7-0.5,2.6-0.1\"\r\n          ></path>\r\n          <path\r\n            fill=\"#b5b5b5\"\r\n            d=\"M85.3,37.2c0.1,0.3,1.2,0.2,2.5-0.3c1.3-0.4,2.2-1.1,2.1-1.4c-0.1-0.3-1.2-0.2-2.5,0.3 C86.1,36.3,85.2,36.9,85.3,37.2z\"\r\n          ></path>\r\n          <path\r\n            fill=\"#000000\"\r\n            d=\"M91.5,35c0.3,0.7,0,1.4-0.7,1.6c-0.6,0.2-1.3-0.1-1.6-0.8c-0.2-0.6,0.1-1.3,0.7-1.6C90.6,33.9,91.3,34.3,91.5,35z\"\r\n          ></path>\r\n          <path\r\n            fill=\"#000000\"\r\n            d=\"M85.9,37c0.2,0.6-0.1,1.2-0.7,1.4c-0.6,0.2-1.3-0.1-1.5-0.6c-0.2-0.5,0.1-1.2,0.7-1.4C85,36.2,85.7,36.4,85.9,37z\"\r\n          ></path>\r\n          <path\r\n            fill=\"none\"\r\n            stroke=\"#000000\"\r\n            d=\"M89.7,29c0.4,0.7-1.4,2.2-3.8,3.4c-2.5,1.2-4.7,1.7-4.9,1.2c-0.3-0.5,1.4-2,3.8-3.4S89.4,28.4,89.7,29z\"\r\n          ></path>\r\n        </g>\r\n      </svg>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Loading;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loadingContainer\":\"style_loadingContainer__1Agp5\"};","import { IAddComment, IAddReply } from 'types/postType';\r\nimport { sendDelete, sendGet, sendPost } from './axios';\r\n\r\nexport const getPostDetail = (id: number) => sendGet(`/getPostDetail/${id}`);\r\n\r\nexport const getComment = (id: number) => sendGet(`/comment/${id}`);\r\n\r\nexport const addComment = (params: IAddComment) => sendPost('/comment/add', params);\r\n\r\nexport const addReply = (params: IAddReply) => sendPost('/reply/add', params);\r\n\r\nexport const deleteComment = (id: number) => sendDelete(`/comment/delete/${id}`);\r\n\r\nexport const getPostDetailAdmin = (id: number) => sendGet(`/postDetail/admin/${id}`);\r\n\r\nexport const deleteCommentReply = (id: number) => sendDelete(`/comment/reply/${id}`);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"commentItem\":\"style_commentItem__1Pevg\",\"comment\":\"style_comment__1mDbe\",\"contentCommentItem\":\"style_contentCommentItem__we-mT\",\"avatar\":\"style_avatar__1lg-K\",\"timeAgo\":\"style_timeAgo__aS4cV\",\"contentText\":\"style_contentText__2qvDT\",\"reply\":\"style_reply__2PmhS\",\"userName\":\"style_userName__1CCTe\",\"submitComment\":\"style_submitComment__32rZv\",\"textArea\":\"style_textArea__21PFx\",\"replyContainer\":\"style_replyContainer___FEFC\",\"replyWrapper\":\"style_replyWrapper__3he3Q\",\"replyInfo\":\"style_replyInfo__1ZU6G\",\"replyProfile\":\"style_replyProfile__15PuW\",\"user\":\"style_user__1944y\",\"replyAvatar\":\"style_replyAvatar__zsAUo\",\"replyContent\":\"style_replyContent__2lVuf\",\"repComment\":\"style_repComment__1RAdm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"style_container__1OwYu\",\"commentContainer\":\"style_commentContainer__30lPC\",\"listComment\":\"style_listComment__1pG05\",\"submitComment\":\"style_submitComment__P-_1r\",\"textArea\":\"style_textArea__aqb-G\",\"containerDetail\":\"style_containerDetail__1l-FQ\",\"dateTime\":\"style_dateTime__3FYDe\",\"detailContent\":\"style_detailContent__1DaDl\"};","import React, { useState } from 'react';\r\nimport { format } from 'timeago.js';\r\nimport { IReply } from 'types/postType';\r\nimport style from './style.module.scss';\r\nimport noAvatar from 'assets/images/no-avatar.png';\r\nimport useProfile from 'hooks/useProfile';\r\nimport { Button } from 'antd';\r\nimport CustomModal from 'components/Modal/CustomModal';\r\nimport { handleErrorMessage } from 'helper';\r\nimport { useQueryClient } from 'react-query';\r\nimport { deleteCommentReply } from 'api/postDetail';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\ninterface ReplyProps {\r\n  reply: IReply;\r\n}\r\nfunction Reply(props: ReplyProps) {\r\n  const { reply } = props;\r\n  const history = useHistory();\r\n  const { profile } = useProfile();\r\n  const [isOpenModal, setIsOpenModal] = useState(false);\r\n  const queryClient = useQueryClient();\r\n\r\n  const handleOk = () => {\r\n    setIsOpenModal(false);\r\n    handleDeleteComment();\r\n  };\r\n  const handleDeleteComment = async () => {\r\n    try {\r\n      await deleteCommentReply(reply.id);\r\n      await queryClient.invalidateQueries('getComment');\r\n    } catch (error) {\r\n      handleErrorMessage(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={style.replyContainer}>\r\n      <div className={style.replyWrapper}>\r\n        <div className={style.replyInfo}>\r\n          <div className={style.replyAvatar}>\r\n            <img src={reply.avatar || noAvatar} alt=\"\" />\r\n          </div>\r\n          <div className={style.replyProfile}>\r\n            <p className={style.user} onClick={() => history.push(`/profile/${reply.id}`)}>\r\n              {reply.username}\r\n            </p>\r\n            <span>{format(reply.reg_date)}</span>\r\n          </div>\r\n        </div>\r\n        {reply.username === profile?.username ? <Button onClick={() => setIsOpenModal(true)}>xóa</Button> : null}\r\n      </div>\r\n\r\n      <div className={style.replyContent}>{reply.content}</div>\r\n\r\n      <CustomModal\r\n        isOpen={isOpenModal}\r\n        handleOk={handleOk}\r\n        handleCancel={() => setIsOpenModal(false)}\r\n        children={'Bạn có muốn xóa bình luận không'}\r\n        title={'Bình luận'}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Reply;\r\n","import { Button, message } from 'antd';\r\nimport TextArea from 'antd/lib/input/TextArea';\r\nimport { addReply } from 'api/postDetail';\r\nimport noAvatar from 'assets/images/no-avatar.png';\r\nimport CustomModal from 'components/Modal/CustomModal';\r\nimport { checkScript, handleError, handleErrorMessage, replaceURLs } from 'helper';\r\nimport useProfile from 'hooks/useProfile';\r\nimport { isEmpty } from 'lodash';\r\nimport React, { useState } from 'react';\r\nimport { useQueryClient } from 'react-query';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { format } from 'timeago.js';\r\nimport { IComment, IReply } from 'types/postType';\r\nimport Reply from './Reply';\r\nimport styles from './style.module.scss';\r\ninterface CommentProps {\r\n  item: IComment;\r\n  handleDeleteComment: (id: number) => void;\r\n}\r\nfunction Comment(props: CommentProps) {\r\n  const { item, handleDeleteComment } = props;\r\n  const [isOpenModal, setIsOpenModal] = useState(false);\r\n  const [reply, setReply] = useState('');\r\n  const [isReply, setIsReply] = useState(false);\r\n  const history = useHistory();\r\n  const { profile } = useProfile();\r\n  const queryClient = useQueryClient();\r\n  const handleOk = () => {\r\n    setIsOpenModal(false);\r\n    handleDeleteComment(item.id);\r\n  };\r\n  const handleSubmitReply = async () => {\r\n    if (!profile?.id) {\r\n      handleError('chức năng bình luận chỉ có thể sử dụng bởi thành viên');\r\n      return;\r\n    }\r\n    if (!reply.trim()) {\r\n      handleError('bình luận không được để trống');\r\n      return;\r\n    }\r\n    if (checkScript(reply.trim())) {\r\n      message.destroy();\r\n      message.error('bình luận thất bại');\r\n      return;\r\n    }\r\n    const replyParams = {\r\n      content: reply.trim(),\r\n      comment_id: item?.id,\r\n      user_id: profile?.id,\r\n    };\r\n\r\n    try {\r\n      await addReply(replyParams);\r\n      await queryClient.invalidateQueries('getComment');\r\n    } catch (error) {\r\n      handleErrorMessage(error);\r\n    }\r\n\r\n    setReply('');\r\n    setIsReply(false);\r\n  };\r\n\r\n  return (\r\n    <div className={styles.commentItem}>\r\n      <div className={styles.comment}>\r\n        <div className={styles.contentCommentItem}>\r\n          <div className={styles.avatar}>\r\n            <img src={item?.avatar || noAvatar} alt=\"\" />\r\n          </div>\r\n          <div className={styles.information}>\r\n            <p className={styles.userName} onClick={() => history.push(`/profile/${item.user_id}`)}>\r\n              {item.username}\r\n            </p>\r\n            <p className={styles.timeAgo}>{format(item.reg_date)}</p>\r\n          </div>\r\n        </div>\r\n        <div className={styles.contentText} dangerouslySetInnerHTML={{ __html: `${replaceURLs(item?.content)}` }}></div>\r\n        {!isReply && (\r\n          <div className={styles.reply} onClick={() => setIsReply(true)}>\r\n            Reply\r\n          </div>\r\n        )}\r\n        {isReply && (\r\n          <div className={styles.comment}>\r\n            <TextArea\r\n              value={reply}\r\n              onChange={(e) => setReply(e.target.value)}\r\n              className={styles.textArea}\r\n              placeholder=\"viết phản hồi của bạn ...\"\r\n              maxLength={300}\r\n            />\r\n            <div className={styles.submitComment}>\r\n              <Button onClick={handleSubmitReply}>Reply</Button>\r\n            </div>\r\n          </div>\r\n        )}\r\n        {!isEmpty(item.reply) && (\r\n          <div className={styles.repComment}>\r\n            {item?.reply?.map((reply: IReply) => (\r\n              <Reply reply={reply} key={reply.id} />\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {item.user_id === profile?.id ? <Button onClick={() => setIsOpenModal(true)}>xóa</Button> : null}\r\n\r\n      <CustomModal\r\n        isOpen={isOpenModal}\r\n        handleOk={handleOk}\r\n        handleCancel={() => setIsOpenModal(false)}\r\n        children={'Bạn có muốn xóa bình luận không'}\r\n        title={'Bình luận'}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Comment;\r\n","import { Button, message } from 'antd';\r\nimport TextArea from 'antd/lib/input/TextArea';\r\nimport { addComment, deleteComment, getComment, getPostDetail } from 'api/postDetail';\r\nimport Loading from 'components/loading';\r\nimport { checkScript, handleErrorMessage } from 'helper';\r\nimport useProfile from 'hooks/useProfile';\r\nimport moment from 'moment';\r\nimport React, { useState } from 'react';\r\nimport { useQuery } from 'react-query';\r\nimport { useParams } from 'react-router-dom';\r\nimport { IComment } from 'types/postType';\r\nimport Comment from './components/Comment';\r\nimport styles from './style.module.scss';\r\nimport { isEmpty } from 'lodash';\r\n\r\ninterface ParamTypes {\r\n  id: string;\r\n}\r\n\r\nfunction PostDetail() {\r\n  const { id } = useParams<ParamTypes>();\r\n  const { data: postDetail, isFetching: fetchPostDetail } = useQuery('postDetail', () => getPostDetail(Number(id)));\r\n  const { data: comment, refetch: fetchComment } = useQuery('getComment', () => getComment(Number(id)));\r\n  const [commentUser, setContentUser] = useState('');\r\n  const { profile } = useProfile();\r\n\r\n  const handleSubmitComment = async () => {\r\n    const newComment = {\r\n      user_id: profile?.id,\r\n      post_id: id,\r\n      content: commentUser.trim(),\r\n    };\r\n    if (!profile?.id) {\r\n      message.destroy();\r\n      message.error('chức năng bình luận chỉ có thể sử dụng bởi thành viên');\r\n      return;\r\n    }\r\n\r\n    if (checkScript(newComment.content)) {\r\n      message.destroy();\r\n      message.error('bình luận thất bại');\r\n      return;\r\n    }\r\n    if (!newComment.content) {\r\n      message.destroy();\r\n      message.error('khung bình luận không thể để trống');\r\n      return;\r\n    }\r\n    try {\r\n      await addComment(newComment);\r\n      fetchComment();\r\n    } catch (error) {\r\n      handleErrorMessage(error);\r\n    }\r\n    setContentUser('');\r\n  };\r\n\r\n  const handleDeleteComment = async (id: number) => {\r\n    try {\r\n      await deleteComment(id);\r\n      fetchComment();\r\n    } catch (error) {\r\n      handleErrorMessage(error);\r\n    }\r\n  };\r\n  if (fetchPostDetail) {\r\n    return <Loading />;\r\n  }\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <div className={styles.containerDetail}>\r\n        <div className={styles.detail}>\r\n          <div className={styles.dateTime}>\r\n            <p>{moment(postDetail?.reg_date).format('DD/MM/YYYY')} - By Smile</p>\r\n          </div>\r\n          <div className={styles.detailContent}>\r\n            <div dangerouslySetInnerHTML={{ __html: `${postDetail?.content}` }} className={styles.detailContents}></div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className={styles.production}></div>\r\n      </div>\r\n      <div className={styles.commentContainer}>\r\n        <div className={styles.comment}>\r\n          <h2>Leave a Reply</h2>\r\n          <TextArea\r\n            value={commentUser}\r\n            onChange={(e) => setContentUser(e.target.value)}\r\n            className={styles.textArea}\r\n            maxLength={300}\r\n          />\r\n          <div className={styles.submitComment}>\r\n            <Button onClick={handleSubmitComment}>Bình Luận</Button>\r\n          </div>\r\n        </div>\r\n        {!isEmpty(comment) && (\r\n          <div className={styles.listComment}>\r\n            {comment?.map((item: IComment) => (\r\n              <Comment item={item} handleDeleteComment={handleDeleteComment} key={item?.id} />\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PostDetail;\r\n"],"sourceRoot":""}